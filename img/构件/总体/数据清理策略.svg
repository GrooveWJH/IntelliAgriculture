<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 948.34375 646.4140625" style="max-width: 948.34375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-242647"><style>#mermaid-svg-242647{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-242647 .error-icon{fill:#552222;}#mermaid-svg-242647 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-242647 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-242647 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-242647 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-242647 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-242647 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-242647 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-242647 .marker.cross{stroke:#333333;}#mermaid-svg-242647 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-242647 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-242647 .cluster-label text{fill:#333;}#mermaid-svg-242647 .cluster-label span,#mermaid-svg-242647 p{color:#333;}#mermaid-svg-242647 .label text,#mermaid-svg-242647 span,#mermaid-svg-242647 p{fill:#333;color:#333;}#mermaid-svg-242647 .node rect,#mermaid-svg-242647 .node circle,#mermaid-svg-242647 .node ellipse,#mermaid-svg-242647 .node polygon,#mermaid-svg-242647 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-242647 .flowchart-label text{text-anchor:middle;}#mermaid-svg-242647 .node .label{text-align:center;}#mermaid-svg-242647 .node.clickable{cursor:pointer;}#mermaid-svg-242647 .arrowheadPath{fill:#333333;}#mermaid-svg-242647 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-242647 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-242647 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-242647 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-242647 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg-242647 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-242647 .cluster text{fill:#333;}#mermaid-svg-242647 .cluster span,#mermaid-svg-242647 p{color:#333;}#mermaid-svg-242647 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-242647 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg-242647 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-242647_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-242647_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-242647_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-242647_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-242647_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-242647_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-P" id="L-A-P-0" d="M518.672,40.594L518.672,44.76C518.672,48.927,518.672,57.26,518.738,64.794C518.804,72.327,518.936,79.061,519.002,82.428L519.068,85.795"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-C" id="L-P-C-0" d="M491.694,215.467L485.44,226.263C479.187,237.059,466.679,258.651,460.426,274.863C454.172,291.074,454.172,301.907,454.172,307.323L454.172,312.739"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-S" id="L-P-S-0" d="M546.65,215.467L552.737,226.263C558.824,237.059,570.998,258.651,577.085,274.863C583.172,291.074,583.172,301.907,583.172,307.323L583.172,312.739"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-R" id="L-C-R-0" d="M454.172,358.633L454.172,362.799C454.172,366.966,454.172,375.299,454.172,382.749C454.172,390.199,454.172,396.766,454.172,400.049L454.172,403.333"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-L1" id="L-R-L1-0" d="M406.672,434.866L354.176,441.426C301.68,447.986,196.688,461.106,144.191,470.95C91.695,480.793,91.695,487.36,91.695,490.643L91.695,493.927"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-L2" id="L-R-L2-0" d="M406.672,446.158L393.773,450.836C380.875,455.514,355.078,464.87,342.18,472.832C329.281,480.793,329.281,487.36,329.281,490.643L329.281,493.927"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-L3" id="L-R-L3-0" d="M501.672,446.158L514.57,450.836C527.469,455.514,553.266,464.87,566.164,472.832C579.063,480.793,579.063,487.36,579.063,490.643L579.063,493.927"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-L4" id="L-R-L4-0" d="M501.672,434.615L556.835,441.217C611.997,447.819,722.323,461.023,777.486,470.908C832.648,480.793,832.648,487.36,832.648,490.643L832.648,493.927"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L1 LE-D" id="L-L1-D-0" d="M91.695,539.82L91.695,543.987C91.695,548.154,91.695,556.487,125.901,565.853C160.108,575.22,228.52,585.62,262.726,590.82L296.932,596.019"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L2 LE-D" id="L-L2-D-0" d="M329.281,539.82L329.281,543.987C329.281,548.154,329.281,556.487,334.13,564.29C338.978,572.094,348.675,579.367,353.523,583.003L358.372,586.64"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L3 LE-D" id="L-L3-D-0" d="M579.063,539.82L579.063,543.987C579.063,548.154,579.063,556.487,562.5,564.615C545.938,572.743,512.814,580.665,496.252,584.626L479.69,588.587"></path><path marker-end="url(#mermaid-svg-242647_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L4 LE-D" id="L-L4-D-0" d="M832.648,539.82L832.648,543.987C832.648,548.154,832.648,556.487,774.281,566.622C715.914,576.757,599.179,588.694,540.812,594.662L482.444,600.631"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(454.171875, 280.2421875)" class="edgeLabel"><g transform="translate(-8, -12.796875)" class="label"><foreignObject height="25.59375" width="16"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">是</span></div></foreignObject></g></g><g transform="translate(583.171875, 280.2421875)" class="edgeLabel"><g transform="translate(-8, -12.796875)" class="label"><foreignObject height="25.59375" width="16"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">否</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(518.671875, 20.296875)" id="flowchart-A-3272" class="node default default flowchart-label"><rect height="40.59375" width="111" y="-20.296875" x="-55.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-48, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="96"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">数据存储请求</span></div></foreignObject></g></g><g transform="translate(518.671875, 166.51953125)" id="flowchart-P-3273" class="node default default flowchart-label"><polygon style="" transform="translate(-75.92578125,75.92578125)" class="label-container" points="75.92578125,0 151.8515625,-75.92578125 75.92578125,-151.8515625 0,-75.92578125"></polygon><g transform="translate(-48.12890625, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="96.2578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">随机概率&lt;1%?</span></div></foreignObject></g></g><g transform="translate(454.171875, 338.3359375)" id="flowchart-C-3275" class="node default default flowchart-label"><rect height="40.59375" width="79" y="-20.296875" x="-39.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-32, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="64"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">触发清理</span></div></foreignObject></g></g><g transform="translate(583.171875, 338.3359375)" id="flowchart-S-3277" class="node default default flowchart-label"><rect height="40.59375" width="79" y="-20.296875" x="-39.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-32, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="64"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">直接存储</span></div></foreignObject></g></g><g transform="translate(454.171875, 428.9296875)" id="flowchart-R-3279" class="node default default flowchart-label"><rect height="40.59375" width="95" y="-20.296875" x="-47.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-40, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="80"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">按策略保留</span></div></foreignObject></g></g><g transform="translate(91.6953125, 519.5234375)" id="flowchart-L1-3281" class="node default default flowchart-label"><rect height="40.59375" width="183.390625" y="-20.296875" x="-91.6953125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-84.1953125, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="168.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留最近5分钟所有数据</span></div></foreignObject></g></g><g transform="translate(329.28125, 519.5234375)" id="flowchart-L2-3283" class="node default default flowchart-label"><rect height="40.59375" width="191.78125" y="-20.296875" x="-95.890625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-88.390625, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="176.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留最近1小时每5秒采样</span></div></foreignObject></g></g><g transform="translate(579.0625, 519.5234375)" id="flowchart-L3-3285" class="node default default flowchart-label"><rect height="40.59375" width="207.78125" y="-20.296875" x="-103.890625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-96.390625, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="192.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留最近24小时每分钟采样</span></div></foreignObject></g></g><g transform="translate(832.6484375, 519.5234375)" id="flowchart-L4-3287" class="node default default flowchart-label"><rect height="40.59375" width="199.390625" y="-20.296875" x="-99.6953125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-92.1953125, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="184.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留更早数据每5分钟采样</span></div></foreignObject></g></g><g transform="translate(389.671875, 610.1171875)" id="flowchart-D-3289" class="node default default flowchart-label"><rect height="40.59375" width="175" y="-20.296875" x="-87.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-80, -12.796875)" style="" class="label"><rect></rect><foreignObject height="25.59375" width="160"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">删除不符合策略的数据</span></div></foreignObject></g></g></g></g></g></svg>